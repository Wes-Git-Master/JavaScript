<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Title</title>
</head>
<body>

<script>

    // console.log('asd');
    // setTimeout(function () {
    //     console.log('timeout 1');
    // }, 1000);
    // setTimeout(function () {
    //     console.log('timeout 2');
    // }, 500);
    //
    // console.log('qwe');

    // let promise = new Promise((resolve, reject) => {
    //     return setTimeout(() => {
    //         let i = 0;
    //         console.log('t1', i);
    //         resolve(i);
    //         if (false) {
    //             reject('errorro');
    //         }
    //     }, 1000);
    //
    // })
    //     .then(i => {
    //         return new Promise((resolve) => {
    //             setTimeout(() => {
    //                 i++;
    //                 console.log('t2', i);
    //                 resolve(i);
    //             }, 2000);
    //         })
    //     })
    //     .then(i => {
    //         return new Promise(() => {
    //             setTimeout(() => {
    //                 i++;
    //                 console.log('t3', i);
    //             }, 3000)
    //         })
    //     })
    //     .catch(reason => {
    //         console.log()
    //     })


    // fetch('https://jsonplaceholder.typicode.com/users')
    //     .then(value => value.json())
    //     .then(value => console.log(value))
    //     .catch(reason => console.log(reason));

    // fetch('https://jsonplaceholder.typicode.com/posts/10')
    //     .then(value => value.json())
    //     .then(post => {
    //         console.log(post);
    //         return fetch('https://jsonplaceholder.typicode.com/comments?postId=' + post.id);
    //     })
    //     .then(value => value.json())
    //     .then(value => console.log(value));

    // async function callToApi() {
    //     let posts = await fetch('https://jsonplaceholder.typicode.com/posts').then(value => value.json());
    //     let comments = await fetch('https://jsonplaceholder.typicode.com/comments').then(value => value.json());
    //     return [posts, comments];
    //
    // }
    //
    // callToApi()
    //     .then(value => console.log(value));

    Promise.race([
        fetch('https://jsonplaceholder1.typicode.com/comments')
            .then(value => value.json()),
        fetch('https://jsonplaceholder2.typicode.com/comments')
            .then(value => value.json())
    ])
        .then(value => console.log(value));


</script>
</body>
</html>
